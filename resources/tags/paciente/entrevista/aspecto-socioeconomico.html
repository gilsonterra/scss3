<paciente-entrevista-aspecto-socioeconomico>
    <fieldset>
        <legend>Aspectos Socioeconômicos</legend>
        <div class="columns">
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.situacao_conjugal ? 'has-error' : '' }">
                    <label class="form-label" for="situacao_conjugal">Estado Civil</label>
                    <select name="situacao_conjugal" class="form-select">
                        <option value=""></option>
                        <option value="SO">Solteiro(a)</option>
                        <option value="CA">Casado(a)</option>
                        <option value="DI">Divorciado(a)</option>
                        <option value="SE">Separado(a)</option>
                        <option value="UE">União Estável</option>
                        <option value="VI">Viúvo(a)</option>
                        <option value="NA">NSA</option>
                        <option value="OU">Outro</option>
                    </select>
                    <div class="form-input-hint" if="{ errors.situacao_conjugal }" each="{ e in errors.situacao_conjugal }">- { e }</div>
                </div>
            </div>
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.nome_companheiro ? 'has-error' : '' }">
                    <label class="form-label" for="nome_companheiro">Nome do(a) esposo(a) ou companheiro(a)</label>
                    <input type="text" name="nome_companheiro" maxlength="100" value="{ dados.nome_companheiro }" class="form-input">
                    <div class="form-input-hint" if="{ errors.nome_companheiro }" each="{ e in errors.nome_companheiro }">- { e }</div>
                </div>
            </div>
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.situacao_moradia ? 'has-error' : '' }">
                    <label class="form-label" for="situacao_moradia">Situação Moradia</label>
                    <select name="situacao_moradia" class="form-select">
                        <option value=""></option>
                        <option value="P">Própria</option>
                        <option value="C">Cedida</option>
                        <option value="A">Alugada</option>
                        <option value="F">Financiada</option>
                        <option value="S">Situação de Rua</option>
                        <option value="O">Outro</option>
                    </select>
                    <div class="form-input-hint" if="{ errors.situacao_moradia }" each="{ e in errors.situacao_moradia }">- { e }</div>
                </div>
            </div>
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.situacao_conjugal_outros ? 'has-error' : '' }">
                    <label class="form-label" for="situacao_conjugal_outros">Situação Moradia (Outro)</label>
                    <input type="text" name="situacao_conjugal_outros" maxlength="100" value="{ dados.situacao_conjugal_outros }" class="form-input">
                    <div class="form-input-hint" if="{ errors.situacao_conjugal_outros }" each="{ e in errors.situacao_conjugal_outros }">- { e }</div>
                </div>
            </div>
        </div>
        <div class="columns">
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.escolaridade ? 'has-error' : '' }">
                    <label class="form-label" for="escolaridade">Escolaridade</label>
                    <select name="escolaridade" class="form-select">
                        <option value="N">NSA</option>
                        <option value="NSI">Não Soube Informar (NSI)</option>
                        <option value="NA">Não Alfabetizado</option>
                        <option value="EI">Educação Infantil</option>
                        <option value="A">Alfabetizado</option>
                        <option value="EFI">Ensino Fundamental Incompleto</option>
                        <option value="EFC">Ensino Fundamental Completo</option>
                        <option value="EMI">Ensino Médio Incompleto</option>
                        <option value="EMC">Ensino Médio Completo</option>
                        <option value="ESI">Ensino Superior Incompleto</option>
                        <option value="ESC">Ensino Superior Completo</option>
                        <option value="PG">Pós-Graduação</option>
                    </select>
                    <div class="form-input-hint" if="{ errors.escolaridade }" each="{ e in errors.escolaridade }">- { e }</div>
                </div>
            </div>
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.situacao_funcional ? 'has-error' : '' }">
                    <label class="form-label" for="situacao_funcional">Situação Funcional</label>
                    <select name="situacao_funcional" class="form-select">
                        <option value=""></option>
                        <option value="E">Empregado</option>
                        <option value="D">Desempregado</option>
                        <option value="A">Autônomo</option>
                        <option value="P">Previdênciário</option>
                        <option value="I">Incapaz</option>
                        <option value="N">NSI</option>
                        <option value="O">Outro</option>
                    </select>
                    <div class="form-input-hint" if="{ errors.situacao_funcional }" each="{ e in errors.situacao_funcional }">- { e }</div>
                </div>
            </div>
            <div class="column col-6 col-md-12">
                <div class="form-group { errors.fk_profissao ? 'has-error' : '' }">
                    <label class="form-label" for="fk_profissao">Profissão</label>
                    <select name="fk_profissao" class="form-select">
                        <option value=""></option>
                    </select>
                    <div class="form-input-hint" if="{ errors.fk_profissao }" each="{ e in errors.fk_profissao }">- { e }</div>
                </div>
            </div>
        </div>
        <div class="columns">
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.filiado_rgps ? 'has-error' : '' }">
                    <label class="form-label" for="filiado_rgps">É filiado(a) ao RGPS?</label>
                    <select name="filiado_rgps" class="form-select">
                        <option value=""></option>
                        <option value="S">Sim</option>
                        <option value="N">Não</option>
                    </select>
                    <div class="form-input-hint" if="{ errors.filiado_rgps }" each="{ e in errors.filiado_rgps }">- { e }</div>
                </div>
            </div>
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.outro_regime ? 'has-error' : '' }">
                    <label class="form-label" for="outro_regime">Outro regime</label>
                    <input type="text" name="outro_regime" maxlength="100" value="{ dados.outro_regime }" class="form-input">
                    <div class="form-input-hint" if="{ errors.outro_regime }" each="{ e in errors.outro_regime }">- { e }</div>
                </div>
            </div>
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.contribui_atualmente ? 'has-error' : '' }">
                    <label class="form-label" for="contribui_atualmente">Contribui atualmente?</label>
                    <select name="contribui_atualmente" class="form-select" onchange="{ onChangeContribuiAtualmente }">
                        <option value=""></option>
                        <option value="S">Sim</option>
                        <option value="N">Não</option>
                        <option value="NSI">Não Soube Informar (NSI)</option>
                    </select>
                    <div class="form-input-hint" if="{ errors.contribui_atualmente }" each="{ e in errors.contribui_atualmente }">- { e }</div>
                </div>
            </div>
            <div class="column col-3 col-md-12">
                <div class="form-group { errors.tempo_contribuicao ? 'has-error' : '' }">
                    <label class="form-label" for="tempo_contribuicao">Há quanto tempo contribui?</label>
                    <input type="number" id="tempo_contribuicao" disabled="{ dados.contribui_atualmente == 'S' ? 'false' : 'true' }" name="tempo_contribuicao" max="40"
                        maxlength="2" value="{ dados.tempo_contribuicao }" class="form-input">
                    <div class="form-input-hint" if="{ errors.tempo_contribuicao }" each="{ e in errors.tempo_contribuicao }">- { e }</div>
                </div>
            </div>
        </div>
    </fieldset>
    <script>
        var tag = this;
        tag.dados = opts.dados || {};
        tag.errors = opts.errors || {};
        tag.onChangeContribuiAtualmente = onChangeContribuiAtualmente;

        function onChangeContribuiAtualmente(event) {
            var contribuiAtualmente = event.target.value;
            var inputTempoContribuicao = document.getElementById('tempo_contribuicao');

            if (contribuiAtualmente == 'S') {
                inputTempoContribuicao.disabled = false;
                inputTempoContribuicao.focus();
            } else {
                inputTempoContribuicao.value = '';
                inputTempoContribuicao.disabled = true;
            }
        }
    </script>
</paciente-entrevista-aspecto-socioeconomico>